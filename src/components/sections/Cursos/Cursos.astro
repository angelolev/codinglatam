---
import GridItem from '../../Grids/GridItem.astro';
import { elementos } from '../../../data/element';

export function getGridClasses(index: number) {
  const patrones = [    
    [
      "col-start-1 col-end-4 ",
      "col-start-4 col-end-10 ",
      "col-start-10 col-end-13",
    ],
    [
      "col-start-1 col-end-7 ",
      "col-start-7 col-end-10 ",
      "col-start-10 col-end-13 ",
    ],
    [
      "col-start-1 col-end-4 ",
      "col-start-4 col-end-7 ",
      "col-start-7 col-end-13 ",
    ],
  ];

  const groupSize = patrones.length;
  const rowPattern = Math.floor(index / groupSize) % patrones.length;
  const positionInGroup = index % groupSize;

  return patrones[rowPattern][positionInGroup];
}

---

<section class="mt-10">
  <div class="w-1/2">
    <h1 class="font-bold text-4xl mb-5">Explora los últimos cursos</h1>
    <p class="text-gray-300">Aquí encontrarás una variedad de cursos diseñados para mejorar tus conocimientos, ya sea que estés dando tus primeros pasos en el desarrollo web o buscando perfeccionar tus habilidades.</p>
  </div>
  <div class="mt-5 grid grid-cols-12 gap-5 mb-10">
    {elementos.map((elemento, index) => (
      <GridItem    
        title={elemento.title}
        description={elemento.description}
        image={elemento.image}
        hasButton={elemento.hasButton}
        buttonText={elemento.buttonText}
        buttonClass={elemento.buttonClass}
        reverseButton={elemento.reverseButton}
        flex={elemento.flex}
        gridClasses={getGridClasses(index)}
      />
    ))}
  </div>
</section>


